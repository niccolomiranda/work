!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/assets/",i(i.s=13)}([function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"f",(function(){return o})),i.d(t,"m",(function(){return s})),i.d(t,"k",(function(){return r})),i.d(t,"e",(function(){return a})),i.d(t,"j",(function(){return l})),i.d(t,"g",(function(){return c})),i.d(t,"b",(function(){return u})),i.d(t,"h",(function(){return d})),i.d(t,"d",(function(){return p})),i.d(t,"i",(function(){return f})),i.d(t,"c",(function(){return _})),i.d(t,"l",(function(){return m})),i.d(t,"n",(function(){return g}));i(1);const n="webgl_api",o=Math.min(window.devicePixelRatio,2),s={width:window.innerWidth,height:window.innerHeight},r=(e,t)=>{s.width=e,s.height=t};let a=null;const l=e=>{a=e};let h=null;const c=e=>{h=e};let u=null;const d=e=>{u=e};let p=null;const f=e=>{p=e},_={width:0,height:0},m=(e,t)=>{_.width=e,_.height=t};const g=function(){const e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0==e.toDataURL("image/webp").indexOf("data:image/webp")}()},function(e,t,i){"use strict";var n=i(3),o=i(2);class s extends n.EventEmitter{constructor(){super(),window.broadcaster=this}emit(...e){super.emit(...e),o.a.query.debug&&console.log("Broadcaster emit:",...e)}}const r=new s;t.a=r},function(e,t,i){"use strict";var n=i(4),o=i.n(n);const s=e=>!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e);var r=class{constructor(){s(window.location.hostname);this.whitelist=["gl.jojo.ninja","jojo.ninja"]}setConfig(e){e&&(this.config=e)}setWhiteList(e){Array.isArray(e)?this.whitelist=e:this.whitelist=[e]}parseQuery(){let e=!1;if(this.whitelist.forEach(t=>{t===window.location.hostname&&(e=!0)}),!s(window.location.hostname)&&!e)return;const t=o.a.parse(window.location.href.replace(/#/g,"hexa"),!0);for(const e in t.query)"config"===e&&(this[e]=JSON.parse(t.query[e])),"config"!==e&&("true"===t.query[e]?this[e]=!0:"false"===t.query[e]?this[e]=!1:this[e]=t.query[e])}},a=i(5),l=i.n(a),h=i(1);t.a=new class{constructor(){window.SuperConfig=window.superConfig=this,this.query=new r,this.broadCaster=h.a}destroy(){for(const e in this.gui.folders)try{this.gui.removeFolder(this.gui.folders[e])}catch(e){}}init(e={},t){if(t&&this.query.setWhiteList(t),this.query.parseQuery(),this.query.debug&&!this.gui&&(this.gui=new l.a.GUI,this.gui.folders={}),this.query.config){for(const t in e)this.query.config.hasOwnProperty(t)||(this.config=e,this.query.setConfig(e));for(const t in this.query.config)e.hasOwnProperty(t)||(this.config=e,this.query.setConfig(e))}else this.query.setConfig(e);if(!this.query.debug)return this.config=e||{},void this.createGetterSetter(this,this.config);this.destroy(),this.query.config&&(this.gui.folders.config=this.gui.addFolder("config"),this.query.open&&this.gui.folders.config.open(),this.config=this.query.config,this.parseConfig(this.config,this.gui.folders.config),this.createGetterSetter(this,this.config),this.updateConfig()),this.gui.folders.root=this.gui.addFolder("experiment"),this.query.open&&this.gui.folders.root.open(),this.gui.folders.root.add(this,"reload"),this.gui.folders.root.add(this,"log")}createGetterSetter(e,t){for(const i in t)"object"==typeof t[i]?void 0!==t[i].value?Object.defineProperty(e,i,{configurable:!0,get:()=>t[i].value}):(e[i]={},this.createGetterSetter(e[i],t[i])):Object.defineProperty(e,i,{configurable:!0,get:()=>t[i]})}exist(e){return void 0!==this[e]}updateConfig(){const e=this.getParams(!0);window.history.pushState("experiment","Title",`${window.location.origin+window.location.pathname+e}`)}getParams(e=!0){let t="?";for(const e in this.query)"config"!==e&&""!==e&&"whitelist"!==e&&(t+=`${e}=${this.query[e]}&`);return e?`${t}config=${JSON.stringify(this.config)}`:`${t}`}log(){this.updateConfig(),console.log("Current Config:"),console.log(this.config),console.log(JSON.stringify(this.config))}reload(){const e=this.getParams(!1);window.history.pushState("experiment","Title",`${window.location.origin+window.location.pathname+e}`),location.reload()}parseConfig(e,t,i){const n="config"===(i=i||"config")?"":i,o=n?`_${n}`:"";for(const n in e){const s=e[n];"object"!=typeof s&&-1===n.indexOf("range")?-1!==n.indexOf("color")||-1!==n.indexOf("Color")?(e[n]=e[n].replace("hexa","#"),t.addColor(e,n).onChange(()=>{this.updateConfig(),h.a.emit(`gui${o}_${n}`)})):t.add(e,n).onChange(()=>{this.updateConfig(),h.a.emit(`gui${o}_${n}`)}):"object"==typeof s&&void 0!==s.min?(this.gui.folders[n]=this.gui.folders[i].addFolder(n),this.query.open&&this.gui.folders[n].open(),this.gui.folders[n].add(s,"value").min(s.min).max(s.max).step(s.step||.01).onChange(()=>{h.a.emit(`gui${o}_${n}`),this.updateConfig()})):"object"==typeof s&&void 0!==s.options?(this.gui.folders[n]=this.gui.folders[i].addFolder(n),this.query.open&&this.gui.folders[n].open(),this.gui.folders[n].add(s,"value",s.options).onChange(()=>{h.a.emit(`gui${o}_${n}`),this.updateConfig()})):"object"==typeof s&&(this.gui.folders[n]=i?this.gui.folders[i].addFolder(n):this.gui.folders.config.addFolder(n),this.query.open&&this.gui.folders[n].open(),this.parseConfig(s,this.gui.folders[n],n,i||"config"))}}}},function(e,t,i){"use strict";var n,o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function h(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,i,n){var o,s,r,a;if(h(i),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),s=e._events),r=s[t]),void 0===r)r=s[t]=i,++e._eventsCount;else if("function"==typeof r?r=s[t]=n?[i,r]:[r,i]:n?r.unshift(i):r.push(i),(o=c(e))>0&&r.length>o&&!r.warned){r.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+r.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=r.length,a=l,console&&console.warn&&console.warn(a)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},o=d.bind(n);return o.listener=i,n.wrapFn=o,o}function f(e,t,i){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?i?[o.listener||o]:[o]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(o):m(o,o.length)}function _(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var r;if(t.length>0&&(r=t[0]),r instanceof Error)throw r;var a=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw a.context=r,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)s(l,this,t);else{var h=l.length,c=m(l,h);for(i=0;i<h;++i)s(c[i],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return h(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return h(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var i,n,o,s,r;if(h(t),void 0===(n=this._events))return this;if(void 0===(i=n[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(o=-1,s=i.length-1;s>=0;s--)if(i[s]===t||i[s].listener===t){r=i[s].listener,o=s;break}if(o<0)return this;0===o?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,o),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,r||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var o,s=Object.keys(i);for(n=0;n<s.length;++n)"removeListener"!==(o=s[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):_.call(e,t)},a.prototype.listenerCount=_,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,i){"use strict";function n(){this._protocol=null,this._href="",this._port=-1,this._query=null,this.auth=null,this.slashes=null,this.host=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null,this._prependSlash=!1}var o=i(6);n.queryString=o,n.prototype.parse=function(e,t,i,o){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);for(var s=0,r=e.length-1;e.charCodeAt(s)<=32;)s++;for(;e.charCodeAt(r)<=32;)r--;if(s=this._parseProtocol(e,s,r),"javascript"!==this._protocol){s=this._parseHost(e,s,r,i);var a=this._protocol;!this.hostname&&(this.slashes||a&&!g[a])&&(this.hostname=this.host="")}if(s<=r){var l=e.charCodeAt(s);47===l||92===l?this._parsePath(e,s,r,o):63===l?this._parseQuery(e,s,r,o):35===l?this._parseHash(e,s,r,o):"javascript"!==this._protocol?this._parsePath(e,s,r,o):this.pathname=e.slice(s,r+1)}if(!this.pathname&&this.hostname&&this._slashProtocols[this._protocol]&&(this.pathname="/"),t){var h=this.search;null==h&&(h=this.search=""),63===h.charCodeAt(0)&&(h=h.slice(1)),this.query=n.queryString.parse(h)}},n.prototype.resolve=function(e){return this.resolveObject(n.parse(e,!1,!0)).format()},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",o=this.hash||"",s=this.search||"",l="",h=this.hostname||"",c=this.port||"",u=!1,d="",p=this.query;if(p&&"object"==typeof p&&(l=n.queryString.stringify(p)),s||(s=l?"?"+l:""),t&&58!==t.charCodeAt(t.length-1)&&(t+=":"),this.host)u=e+this.host;else if(h){h.indexOf(":")>-1&&(h="["+h+"]"),u=e+h+(c?":"+c:"")}var f=this.slashes||(!t||g[t])&&!1!==u;return t?d=t+(f?"//":""):f&&(d="//"),f&&i&&47!==i.charCodeAt(0)&&(i="/"+i),s&&63!==s.charCodeAt(0)&&(s="?"+s),o&&35!==o.charCodeAt(0)&&(o="#"+o),d+(!1===u?"":u)+(i=r(i))+(s=a(s))+o},n.prototype.resolveObject=function(e){"string"==typeof e&&(e=n.parse(e,!1,!0));var t=this._clone();if(t.hash=e.hash,!e.href)return t._href="",t;if(e.slashes&&!e._protocol)return e._copyPropsTo(t,!0),g[t._protocol]&&t.hostname&&!t.pathname&&(t.pathname="/"),t._href="",t;if(e._protocol&&e._protocol!==t._protocol){if(!g[e._protocol])return e._copyPropsTo(t,!1),t._href="",t;if(t._protocol=e._protocol,e.host||"javascript"===e._protocol)t.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),t.pathname=i.join("/")}return t.search=e.search,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t._port=e._port,t.slashes=t.slashes||e.slashes,t._href="",t}var o=t.pathname&&47===t.pathname.charCodeAt(0),s=e.host||e.pathname&&47===e.pathname.charCodeAt(0),r=s||o||t.host&&e.pathname,a=r,l=t.pathname&&t.pathname.split("/")||[],h=(i=e.pathname&&e.pathname.split("/")||[],t._protocol&&!g[t._protocol]);if(h&&(t.hostname="",t._port=-1,t.host&&(""===l[0]?l[0]=t.host:l.unshift(t.host)),t.host="",e._protocol&&(e.hostname="",e._port=-1,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=""),r=r&&(""===i[0]||""===l[0])),s)t.host=e.host?e.host:t.host,t.hostname=e.hostname?e.hostname:t.hostname,t.search=e.search,l=i;else if(i.length)l||(l=[]),l.pop(),l=l.concat(i),t.search=e.search;else if(e.search){if(h)t.hostname=t.host=l.shift(),(f=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=f.shift(),t.host=t.hostname=f.shift());return t.search=e.search,t._href="",t}if(!l.length)return t.pathname=null,t._href="",t;for(var c=l.slice(-1)[0],u=(t.host||e.host)&&("."===c||".."===c)||""===c,d=0,p=l.length;p>=0;p--)"."===(c=l[p])?l.splice(p,1):".."===c?(l.splice(p,1),d++):d&&(l.splice(p,1),d--);if(!r&&!a)for(;d--;d)l.unshift("..");!r||""===l[0]||l[0]&&47===l[0].charCodeAt(0)||l.unshift(""),u&&"/"!==l.join("/").substr(-1)&&l.push("");var f,_=""===l[0]||l[0]&&47===l[0].charCodeAt(0);h&&(t.hostname=t.host=_?"":l.length?l.shift():"",(f=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=f.shift(),t.host=t.hostname=f.shift()));return(r=r||t.host&&l.length)&&!_&&l.unshift(""),t.pathname=0===l.length?null:l.join("/"),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t._href="",t};var s=i(9);n.prototype._hostIdna=function(e){return s.toASCII(e)};var r=n.prototype._escapePathName=function(e){return l(e,35,63)?function(e){return e.replace(/[?#]/g,(function(e){return encodeURIComponent(e)}))}(e):e},a=n.prototype._escapeSearch=function(e){return l(e,35,-1)?function(e){return e.replace(/#/g,(function(e){return encodeURIComponent(e)}))}(e):e};function l(e,t,i){for(var n=0,o=e.length;n<o;++n){var s=e.charCodeAt(n);if(s===t||s===i)return!0}return!1}function h(e){var t=new Uint8Array(128);return e.forEach((function(e){if("number"==typeof e)t[e]=1;else for(var i=e[0],n=e[1],o=i;o<=n;++o)t[o]=1})),t}n.prototype._parseProtocol=function(e,t,i){for(var n=!1,o=this._protocolCharacters,s=t;s<=i;++s){var r=e.charCodeAt(s);if(58===r){var a=e.slice(t,s);return n&&(a=a.toLowerCase()),this._protocol=a,s+1}if(1!==o[r])return t;r<97&&(n=!0)}return t},n.prototype._parseAuth=function(e,t,i,n){var o=e.slice(t,i+1);n&&(o=decodeURIComponent(o)),this.auth=o},n.prototype._parsePort=function(e,t,i){for(var n=0,o=!1,s=!0,r=t;r<=i;++r){var a=e.charCodeAt(r);if(!(48<=a&&a<=57)){s=!1,92!==a&&47!==a||(s=!0);break}n=10*n+(a-48),o=!0}return 0===n&&!o||!s?(s||(this._port=-2),0):(this._port=n,r-t)},n.prototype._parseHost=function(e,t,i,n){var o=this._hostEndingCharacters,s=e.charCodeAt(t),r=e.charCodeAt(t+1);if(47!==s&&92!==s||47!==r&&92!==r){if(!this._protocol||g[this._protocol])return t}else{if(this.slashes=!0,0===t){if(i<2)return t;if(!function(e,t,i,n){for(var o=e.length,s=i;s<o;++s){var r=e.charCodeAt(s);if(r===t)return!0;if(1===n[r])return!1}return!1}(e,64,2,o)&&!n)return this.slashes=null,t}t+=2}for(var a=!1,l=!1,h=t,c=i,u=0,d=0,p=!1,f=-1,_=t;_<=i;++_){if(64===(v=e.charCodeAt(_)))f=_;else if(37===v)p=!0;else if(1===o[v])break}if(f>-1&&(this._parseAuth(e,t,f-1,p),t=h=f+1),91===e.charCodeAt(t)){for(_=t+1;_<=i;++_){if(93===(v=e.charCodeAt(_))){58===e.charCodeAt(_+1)&&(u=this._parsePort(e,_+2,i)+1);var m=e.slice(t+1,_).toLowerCase();return this.hostname=m,this.host=this._port>0?"["+m+"]:"+this._port:"["+m+"]",this.pathname="/",_+u+1}}return t}for(_=t;_<=i;++_){if(d>62)return this.hostname=this.host=e.slice(t,_),_;var v;if(58===(v=e.charCodeAt(_))){u=this._parsePort(e,_+1,i)+1,c=_-1;break}if(v<97){if(46===v)d=-1;else if(65<=v&&v<=90)a=!0;else if(!(45===v||95===v||43===v||48<=v&&v<=57)){0===o[v]&&0===this._noPrependSlashHostEnders[v]&&(this._prependSlash=!0),c=_-1;break}}else if(v>=123){if(v<=126){0===this._noPrependSlashHostEnders[v]&&(this._prependSlash=!0),c=_-1;break}l=!0}v,d++}if(c+1!==t&&c-h<=256){m=e.slice(h,c+1);a&&(m=m.toLowerCase()),l&&(m=this._hostIdna(m)),this.hostname=m,this.host=this._port>0?m+":"+this._port:m}return c+1+u},n.prototype._copyPropsTo=function(e,t){t||(e._protocol=this._protocol),e._href=this._href,e._port=this._port,e._prependSlash=this._prependSlash,e.auth=this.auth,e.slashes=this.slashes,e.host=this.host,e.hostname=this.hostname,e.hash=this.hash,e.search=this.search,e.pathname=this.pathname},n.prototype._clone=function(){var e=new n;return e._protocol=this._protocol,e._href=this._href,e._port=this._port,e._prependSlash=this._prependSlash,e.auth=this.auth,e.slashes=this.slashes,e.host=this.host,e.hostname=this.hostname,e.hash=this.hash,e.search=this.search,e.pathname=this.pathname,e},n.prototype._getComponentEscaped=function(e,t,i,n){for(var o=t,s=t,r="",a=n?this._afterQueryAutoEscapeMap:this._autoEscapeMap;s<=i;++s){var l=a[e.charCodeAt(s)];""!==l&&void 0!==l&&(o<s&&(r+=e.slice(o,s)),r+=l,o=s+1)}return o<s+1&&(r+=e.slice(o,s)),r},n.prototype._parsePath=function(e,t,i,n){for(var o,s=t,r=i,a=!1,l=this._autoEscapeCharacters,h=-2===this._port?"/:":"",c=t;c<=i;++c){var u=e.charCodeAt(c);if(35===u){this._parseHash(e,c,i,n),r=c-1;break}if(63===u){this._parseQuery(e,c,i,n),r=c-1;break}n||a||1!==l[u]||(a=!0)}s>r?this.pathname=""===h?"/":h:(o=a?this._getComponentEscaped(e,s,r,!1):e.slice(s,r+1),this.pathname=""===h?this._prependSlash?"/"+o:o:h+o)},n.prototype._parseQuery=function(e,t,i,n){for(var o,s=t,r=i,a=!1,l=this._autoEscapeCharacters,h=t;h<=i;++h){var c=e.charCodeAt(h);if(35===c){this._parseHash(e,h,i,n),r=h-1;break}n||a||1!==l[c]||(a=!0)}s>r?this.search="":(o=a?this._getComponentEscaped(e,s,r,!0):e.slice(s,r+1),this.search=o)},n.prototype._parseHash=function(e,t,i,n){this.hash=t>i?"":n?e.slice(t,i+1):this._getComponentEscaped(e,t,i,!0)},Object.defineProperty(n.prototype,"port",{get:function(){return this._port>=0?""+this._port:null},set:function(e){this._port=null==e?-1:parseInt(e,10)}}),Object.defineProperty(n.prototype,"query",{get:function(){var e=this._query;if(null!=e)return e;var t=this.search;return t&&(63===t.charCodeAt(0)&&(t=t.slice(1)),""!==t)?(this._query=t,t):t},set:function(e){this._query=e}}),Object.defineProperty(n.prototype,"path",{get:function(){var e=this.pathname||"",t=this.search||"";return e||t?e+t:null==e&&t?"/"+t:null},set:function(){}}),Object.defineProperty(n.prototype,"protocol",{get:function(){var e=this._protocol;return e?e+":":e},set:function(e){if("string"==typeof e){var t=e.length-1;58===e.charCodeAt(t)?this._protocol=e.slice(0,t):this._protocol=e}else null==e&&(this._protocol=null)}}),Object.defineProperty(n.prototype,"href",{get:function(){var e=this._href;return e||(e=this._href=this.format()),e},set:function(e){this._href=e}}),n.parse=function(e,t,i,o){if(e instanceof n)return e;var s=new n;return s.parse(e,!!t,!!i,!!o),s},n.format=function(e){return"string"==typeof e&&(e=n.parse(e)),e instanceof n?e.format():n.prototype.format.call(e)},n.resolve=function(e,t){return n.parse(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?n.parse(e,!1,!0).resolveObject(t):t};for(var c=["<",">",'"',"`"," ","\r","\n","\t","{","}","|","\\","^","`","'"],u=new Array(128),d=0,p=u.length;d<p;++d)u[d]="";for(d=0,p=c.length;d<p;++d){var f=c[d],_=encodeURIComponent(f);_===f&&(_=escape(f)),u[f.charCodeAt(0)]=_}var m=u.slice();u[92]="/";var g=n.prototype._slashProtocols={http:!0,https:!0,gopher:!0,file:!0,ftp:!0,"http:":!0,"https:":!0,"gopher:":!0,"file:":!0,"ftp:":!0};n.prototype._protocolCharacters=h([[97,122],[65,90],46,43,45]),n.prototype._hostEndingCharacters=h([35,63,47,92]),n.prototype._autoEscapeCharacters=h(c.map((function(e){return e.charCodeAt(0)}))),n.prototype._noPrependSlashHostEnders=h(["<",">","'","`"," ","\r","\n","\t","{","}","|","^","`",'"',"%",";"].map((function(e){return e.charCodeAt(0)}))),n.prototype._autoEscapeMap=u,n.prototype._afterQueryAutoEscapeMap=m,e.exports=n,n.replace=function(){i.c.url={exports:n}}},function(e,t,i){!function(e){"use strict";function t(e,t){var i=e.__state.conversionName.toString(),n=Math.round(e.r),o=Math.round(e.g),s=Math.round(e.b),r=e.a,a=Math.round(e.h),l=e.s.toFixed(1),h=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===i||"SIX_CHAR_HEX"===i){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===i?"rgb("+n+","+o+","+s+")":"CSS_RGBA"===i?"rgba("+n+","+o+","+s+","+r+")":"HEX"===i?"0x"+e.hex.toString(16):"RGB_ARRAY"===i?"["+n+","+o+","+s+"]":"RGBA_ARRAY"===i?"["+n+","+o+","+s+","+r+"]":"RGB_OBJ"===i?"{r:"+n+",g:"+o+",b:"+s+"}":"RGBA_OBJ"===i?"{r:"+n+",g:"+o+",b:"+s+",a:"+r+"}":"HSV_OBJ"===i?"{h:"+a+",s:"+l+",v:"+h+"}":"HSVA_OBJ"===i?"{h:"+a+",s:"+l+",v:"+h+",a:"+r+"}":"unknown format"}function i(e,t,i){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(V.recalculateRGB(this,t,i),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(V.recalculateRGB(this,t,i),this.__state.space="RGB"),this.__state[t]=e}})}function n(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(V.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(V.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}function o(e){if("0"===e||x.isUndefined(e))return 0;var t=e.match(I);return x.isNull(t)?0:parseFloat(t[1])}function s(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}function r(e,t,i,n,o){return n+(e-t)/(i-t)*(o-n)}function a(e,t,i,n){e.style.background="",x.each(W,(function(o){e.style.cssText+="background: "+o+"linear-gradient("+t+", "+i+" 0%, "+n+" 100%); "}))}function l(e,t,i){var n=document.createElement("li");return t&&n.appendChild(t),i?e.__ul.insertBefore(n,i):e.__ul.appendChild(n),e.onResize(),n}function h(e){H.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&H.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function c(e,t){var i=e.__preset_select[e.__preset_select.selectedIndex];i.innerHTML=t?i.value+"*":i.value}function u(e,t){var i=e.getRoot(),n=i.__rememberedObjects.indexOf(t.object);if(-1!==n){var o=i.__rememberedObjectIndecesToControllers[n];if(void 0===o&&(o={},i.__rememberedObjectIndecesToControllers[n]=o),o[t.property]=t,i.load&&i.load.remembered){var s=i.load.remembered,r=void 0;if(s[e.preset])r=s[e.preset];else{if(!s[Z])return;r=s[Z]}if(r[n]&&void 0!==r[n][t.property]){var a=r[n][t.property];t.initialValue=a,t.setValue(a)}}}}function d(e,t,i,n){if(void 0===t[i])throw new Error('Object "'+t+'" has no property "'+i+'"');var o=void 0;if(n.color)o=new q(t,i);else{var s=[t,i].concat(n.factoryArgs);o=K.apply(e,s)}n.before instanceof R&&(n.before=n.before.__li),u(e,o),H.addClass(o.domElement,"c");var r=document.createElement("span");H.addClass(r,"property-name"),r.innerHTML=o.property;var a=document.createElement("div");a.appendChild(r),a.appendChild(o.domElement);var h=l(e,a,n.before);return H.addClass(h,re.CLASS_CONTROLLER_ROW),o instanceof q?H.addClass(h,"color"):H.addClass(h,O(o.getValue())),function(e,t,i){if(i.__li=t,i.__gui=e,x.extend(i,{options:function(t){if(arguments.length>1){var n=i.__li.nextElementSibling;return i.remove(),d(e,i.object,i.property,{before:n,factoryArgs:[x.toArray(arguments)]})}if(x.isArray(t)||x.isObject(t)){var o=i.__li.nextElementSibling;return i.remove(),d(e,i.object,i.property,{before:o,factoryArgs:[t]})}},name:function(e){return i.__li.firstElementChild.firstElementChild.innerHTML=e,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof U){var n=new D(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});x.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(e){var t=i[e],o=n[e];i[e]=n[e]=function(){var e=Array.prototype.slice.call(arguments);return o.apply(n,e),t.apply(i,e)}})),H.addClass(t,"has-slider"),i.domElement.insertBefore(n.domElement,i.domElement.firstElementChild)}else if(i instanceof D){var o=function(t){if(x.isNumber(i.__min)&&x.isNumber(i.__max)){var n=i.__li.firstElementChild.firstElementChild.innerHTML,o=i.__gui.__listening.indexOf(i)>-1;i.remove();var s=d(e,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return s.name(n),o&&s.listen(),s}return t};i.min=x.compose(o,i.min),i.max=x.compose(o,i.max)}else i instanceof Y?(H.bind(t,"click",(function(){H.fakeEvent(i.__checkbox,"click")})),H.bind(i.__checkbox,"click",(function(e){e.stopPropagation()}))):i instanceof G?(H.bind(t,"click",(function(){H.fakeEvent(i.__button,"click")})),H.bind(t,"mouseover",(function(){H.addClass(i.__button,"hover")})),H.bind(t,"mouseout",(function(){H.removeClass(i.__button,"hover")}))):i instanceof q&&(H.addClass(t,"color"),i.updateDisplay=x.compose((function(e){return t.style.borderLeftColor=i.__color.toString(),e}),i.updateDisplay),i.updateDisplay());i.setValue=x.compose((function(t){return e.getRoot().__preset_select&&i.isModified()&&c(e.getRoot(),!0),t}),i.setValue)}(e,h,o),e.__controllers.push(o),o}function p(e,t){return document.location.href+"."+t}function f(e,t,i){var n=document.createElement("option");n.innerHTML=t,n.value=t,e.__preset_select.appendChild(n),i&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function _(e,t){t.style.display=e.useLocalStorage?"block":"none"}function m(e){var t=e.__save_row=document.createElement("li");H.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),H.addClass(t,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",H.addClass(i,"button gears");var n=document.createElement("span");n.innerHTML="Save",H.addClass(n,"button"),H.addClass(n,"save");var o=document.createElement("span");o.innerHTML="New",H.addClass(o,"button"),H.addClass(o,"save-as");var s=document.createElement("span");s.innerHTML="Revert",H.addClass(s,"button"),H.addClass(s,"revert");var r=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?x.each(e.load.remembered,(function(t,i){f(e,i,i===e.preset)})):f(e,Z,!1),H.bind(r,"change",(function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value})),t.appendChild(r),t.appendChild(i),t.appendChild(n),t.appendChild(o),t.appendChild(s),ee){var a=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(p(0,"isLocal"))&&l.setAttribute("checked","checked"),_(e,a),H.bind(l,"change",(function(){e.useLocalStorage=!e.useLocalStorage,_(e,a)}))}var h=document.getElementById("dg-new-constructor");H.bind(h,"keydown",(function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||te.hide()})),H.bind(i,"click",(function(){h.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),te.show(),h.focus(),h.select()})),H.bind(n,"click",(function(){e.save()})),H.bind(o,"click",(function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)})),H.bind(s,"click",(function(){e.revert()}))}function g(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function v(e,t){var i={};return x.each(e.__rememberedObjects,(function(n,o){var s={},r=e.__rememberedObjectIndecesToControllers[o];x.each(r,(function(e,i){s[i]=t?e.initialValue:e.getValue()})),i[o]=s})),i}var b=Array.prototype.forEach,y=Array.prototype.slice,x={BREAK:{},extend:function(e){return this.each(y.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(i){this.isUndefined(t[i])||(e[i]=t[i])}.bind(this))}),this),e},defaults:function(e){return this.each(y.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(i){this.isUndefined(e[i])&&(e[i]=t[i])}.bind(this))}),this),e},compose:function(){var e=y.call(arguments);return function(){for(var t=y.call(arguments),i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},each:function(e,t,i){if(e)if(b&&e.forEach&&e.forEach===b)e.forEach(t,i);else if(e.length===e.length+0){var n,o=void 0;for(o=0,n=e.length;o<n;o++)if(o in e&&t.call(i,e[o],o)===this.BREAK)return}else for(var s in e)if(t.call(i,e[s],s)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var n=void 0;return function(){var o=this,s=arguments,r=i||!n;clearTimeout(n),n=setTimeout((function(){n=null,i||e.apply(o,s)}),t),r&&e.apply(o,s)}},toArray:function(e){return e.toArray?e.toArray():y.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return isNaN(e)})),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}},w=[{litmus:x.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:t},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:t},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:t},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:t}}},{litmus:x.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:x.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:x.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(x.isNumber(e.r)&&x.isNumber(e.g)&&x.isNumber(e.b)&&x.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(x.isNumber(e.r)&&x.isNumber(e.g)&&x.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(x.isNumber(e.h)&&x.isNumber(e.s)&&x.isNumber(e.v)&&x.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(x.isNumber(e.h)&&x.isNumber(e.s)&&x.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],C=void 0,E=void 0,S=function(){E=!1;var e=arguments.length>1?x.toArray(arguments):arguments[0];return x.each(w,(function(t){if(t.litmus(e))return x.each(t.conversions,(function(t,i){if(C=t.read(e),!1===E&&!1!==C)return E=C,C.conversionName=i,C.conversion=t,x.BREAK})),x.BREAK})),E},A=void 0,k={hsv_to_rgb:function(e,t,i){var n=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),s=i*(1-t),r=i*(1-o*t),a=i*(1-(1-o)*t),l=[[i,a,s],[r,i,s],[s,i,a],[s,r,i],[a,s,i],[i,s,r]][n];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,i){var n=Math.min(e,t,i),o=Math.max(e,t,i),s=o-n,r=void 0;return 0===o?{h:NaN,s:0,v:0}:(r=e===o?(t-i)/s:t===o?2+(i-e)/s:4+(e-t)/s,(r/=6)<0&&(r+=1),{h:360*r,s:s/o,v:o/255})},rgb_to_hex:function(e,t,i){var n=this.hex_with_component(0,2,e);return n=this.hex_with_component(n,1,t),this.hex_with_component(n,0,i)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,i){return i<<(A=8*t)|e&~(255<<A)}},O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},L=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),T=function e(t,i,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,i);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,i,n)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(n):void 0},P=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},j=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},V=function(){function e(){if(M(this,e),this.__state=S.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return L(e,[{key:"toString",value:function(){return t(this)}},{key:"toHexString",value:function(){return t(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();V.recalculateRGB=function(e,t,i){if("HEX"===e.__state.space)e.__state[t]=k.component_from_hex(e.__state.hex,i);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");x.extend(e.__state,k.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},V.recalculateHSV=function(e){var t=k.rgb_to_hsv(e.r,e.g,e.b);x.extend(e.__state,{s:t.s,v:t.v}),x.isNaN(t.h)?x.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},V.COMPONENTS=["r","g","b","h","s","v","hex","a"],i(V.prototype,"r",2),i(V.prototype,"g",1),i(V.prototype,"b",0),n(V.prototype,"h"),n(V.prototype,"s"),n(V.prototype,"v"),Object.defineProperty(V.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(V.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=k.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var R=function(){function e(t,i){M(this,e),this.initialValue=t[i],this.domElement=document.createElement("div"),this.object=t,this.property=i,this.__onChange=void 0,this.__onFinishChange=void 0}return L(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),z={};x.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(e,t){x.each(e,(function(e){z[e]=t}))}));var I=/(\d+(\.\d+)?)px/,H={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,i){var n=i,o=t;x.isUndefined(o)&&(o=!0),x.isUndefined(n)&&(n=!0),e.style.position="absolute",o&&(e.style.left=0,e.style.right=0),n&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,i,n){var o=i||{},s=z[t];if(!s)throw new Error("Event type "+t+" not supported.");var r=document.createEvent(s);switch(s){case"MouseEvents":var a=o.x||o.clientX||0,l=o.y||o.clientY||0;r.initMouseEvent(t,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,a,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var h=r.initKeyboardEvent||r.initKeyEvent;x.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),h(t,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:r.initEvent(t,o.bubbles||!1,o.cancelable||!0)}x.defaults(r,n),e.dispatchEvent(r)},bind:function(e,t,i,n){var o=n||!1;return e.addEventListener?e.addEventListener(t,i,o):e.attachEvent&&e.attachEvent("on"+t,i),H},unbind:function(e,t,i,n){var o=n||!1;return e.removeEventListener?e.removeEventListener(t,i,o):e.detachEvent&&e.detachEvent("on"+t,i),H},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var i=e.className.split(/ +/);-1===i.indexOf(t)&&(i.push(t),e.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return H},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var i=e.className.split(/ +/),n=i.indexOf(t);-1!==n&&(i.splice(n,1),e.className=i.join(" "))}else e.className=void 0;return H},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return o(t["border-left-width"])+o(t["border-right-width"])+o(t["padding-left"])+o(t["padding-right"])+o(t.width)},getHeight:function(e){var t=getComputedStyle(e);return o(t["border-top-width"])+o(t["border-bottom-width"])+o(t["padding-top"])+o(t["padding-bottom"])+o(t.height)},getOffset:function(e){var t=e,i={left:0,top:0};if(t.offsetParent)do{i.left+=t.offsetLeft,i.top+=t.offsetTop,t=t.offsetParent}while(t);return i},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},Y=function(e){function t(e,i){M(this,t);var n=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),o=n;return n.__prev=n.getValue(),n.__checkbox=document.createElement("input"),n.__checkbox.setAttribute("type","checkbox"),H.bind(n.__checkbox,"change",(function(){o.setValue(!o.__prev)}),!1),n.domElement.appendChild(n.__checkbox),n.updateDisplay(),n}return P(t,R),L(t,[{key:"setValue",value:function(e){var i=T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),i}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),B=function(e){function t(e,i,n){M(this,t);var o=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),s=n,r=o;if(o.__select=document.createElement("select"),x.isArray(s)){var a={};x.each(s,(function(e){a[e]=e})),s=a}return x.each(s,(function(e,t){var i=document.createElement("option");i.innerHTML=t,i.setAttribute("value",e),r.__select.appendChild(i)})),o.updateDisplay(),H.bind(o.__select,"change",(function(){var e=this.options[this.selectedIndex].value;r.setValue(e)})),o.domElement.appendChild(o.__select),o}return P(t,R),L(t,[{key:"setValue",value:function(e){var i=T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),i}},{key:"updateDisplay",value:function(){return H.isActive(this.__select)?this:(this.__select.value=this.getValue(),T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(),F=function(e){function t(e,i){function n(){s.setValue(s.__input.value)}M(this,t);var o=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),s=o;return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),H.bind(o.__input,"keyup",n),H.bind(o.__input,"change",n),H.bind(o.__input,"blur",(function(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())})),H.bind(o.__input,"keydown",(function(e){13===e.keyCode&&this.blur()})),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return P(t,R),L(t,[{key:"updateDisplay",value:function(){return H.isActive(this.__input)||(this.__input.value=this.getValue()),T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),N=function(e){function t(e,i,n){M(this,t);var o=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),r=n||{};return o.__min=r.min,o.__max=r.max,o.__step=r.step,x.isUndefined(o.__step)?0===o.initialValue?o.__impliedStep=1:o.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(o.initialValue))/Math.LN10))/10:o.__impliedStep=o.__step,o.__precision=s(o.__impliedStep),o}return P(t,R),L(t,[{key:"setValue",value:function(e){var i=e;return void 0!==this.__min&&i<this.__min?i=this.__min:void 0!==this.__max&&i>this.__max&&(i=this.__max),void 0!==this.__step&&i%this.__step!=0&&(i=Math.round(i/this.__step)*this.__step),T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,i)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=s(e),this}}]),t}(),D=function(e){function t(e,i,n){function o(){l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}function s(e){var t=h-e.clientY;l.setValue(l.getValue()+t*l.__impliedStep),h=e.clientY}function r(){H.unbind(window,"mousemove",s),H.unbind(window,"mouseup",r),o()}M(this,t);var a=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,n));a.__truncationSuspended=!1;var l=a,h=void 0;return a.__input=document.createElement("input"),a.__input.setAttribute("type","text"),H.bind(a.__input,"change",(function(){var e=parseFloat(l.__input.value);x.isNaN(e)||l.setValue(e)})),H.bind(a.__input,"blur",(function(){o()})),H.bind(a.__input,"mousedown",(function(e){H.bind(window,"mousemove",s),H.bind(window,"mouseup",r),h=e.clientY})),H.bind(a.__input,"keydown",(function(e){13===e.keyCode&&(l.__truncationSuspended=!0,this.blur(),l.__truncationSuspended=!1,o())})),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return P(t,N),L(t,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():function(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}(this.getValue(),this.__precision),T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),U=function(e){function t(e,i,n,o,s){function a(e){e.preventDefault();var t=d.__background.getBoundingClientRect();return d.setValue(r(e.clientX,t.left,t.right,d.__min,d.__max)),!1}function l(){H.unbind(window,"mousemove",a),H.unbind(window,"mouseup",l),d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}function h(e){var t=e.touches[0].clientX,i=d.__background.getBoundingClientRect();d.setValue(r(t,i.left,i.right,d.__min,d.__max))}function c(){H.unbind(window,"touchmove",h),H.unbind(window,"touchend",c),d.__onFinishChange&&d.__onFinishChange.call(d,d.getValue())}M(this,t);var u=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,{min:n,max:o,step:s})),d=u;return u.__background=document.createElement("div"),u.__foreground=document.createElement("div"),H.bind(u.__background,"mousedown",(function(e){document.activeElement.blur(),H.bind(window,"mousemove",a),H.bind(window,"mouseup",l),a(e)})),H.bind(u.__background,"touchstart",(function(e){1===e.touches.length&&(H.bind(window,"touchmove",h),H.bind(window,"touchend",c),h(e))})),H.addClass(u.__background,"slider"),H.addClass(u.__foreground,"slider-fg"),u.updateDisplay(),u.__background.appendChild(u.__foreground),u.domElement.appendChild(u.__background),u}return P(t,N),L(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),G=function(e){function t(e,i,n){M(this,t);var o=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),s=o;return o.__button=document.createElement("div"),o.__button.innerHTML=void 0===n?"Fire":n,H.bind(o.__button,"click",(function(e){return e.preventDefault(),s.fire(),!1})),H.addClass(o.__button,"button"),o.domElement.appendChild(o.__button),o}return P(t,R),L(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),q=function(e){function t(e,i){function n(e){c(e),H.bind(window,"mousemove",c),H.bind(window,"touchmove",c),H.bind(window,"mouseup",s),H.bind(window,"touchend",s)}function o(e){u(e),H.bind(window,"mousemove",u),H.bind(window,"touchmove",u),H.bind(window,"mouseup",r),H.bind(window,"touchend",r)}function s(){H.unbind(window,"mousemove",c),H.unbind(window,"touchmove",c),H.unbind(window,"mouseup",s),H.unbind(window,"touchend",s),h()}function r(){H.unbind(window,"mousemove",u),H.unbind(window,"touchmove",u),H.unbind(window,"mouseup",r),H.unbind(window,"touchend",r),h()}function l(){var e=S(this.value);!1!==e?(p.__color.__state=e,p.setValue(p.__color.toOriginal())):this.value=p.__color.toString()}function h(){p.__onFinishChange&&p.__onFinishChange.call(p,p.__color.toOriginal())}function c(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=p.__saturation_field.getBoundingClientRect(),i=e.touches&&e.touches[0]||e,n=i.clientX,o=i.clientY,s=(n-t.left)/(t.right-t.left),r=1-(o-t.top)/(t.bottom-t.top);return r>1?r=1:r<0&&(r=0),s>1?s=1:s<0&&(s=0),p.__color.v=r,p.__color.s=s,p.setValue(p.__color.toOriginal()),!1}function u(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=p.__hue_field.getBoundingClientRect(),i=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return i>1?i=1:i<0&&(i=0),p.__color.h=360*i,p.setValue(p.__color.toOriginal()),!1}M(this,t);var d=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));d.__color=new V(d.getValue()),d.__temp=new V(0);var p=d;d.domElement=document.createElement("div"),H.makeSelectable(d.domElement,!1),d.__selector=document.createElement("div"),d.__selector.className="selector",d.__saturation_field=document.createElement("div"),d.__saturation_field.className="saturation-field",d.__field_knob=document.createElement("div"),d.__field_knob.className="field-knob",d.__field_knob_border="2px solid ",d.__hue_knob=document.createElement("div"),d.__hue_knob.className="hue-knob",d.__hue_field=document.createElement("div"),d.__hue_field.className="hue-field",d.__input=document.createElement("input"),d.__input.type="text",d.__input_textShadow="0 1px 1px ",H.bind(d.__input,"keydown",(function(e){13===e.keyCode&&l.call(this)})),H.bind(d.__input,"blur",l),H.bind(d.__selector,"mousedown",(function(){H.addClass(this,"drag").bind(window,"mouseup",(function(){H.removeClass(p.__selector,"drag")}))})),H.bind(d.__selector,"touchstart",(function(){H.addClass(this,"drag").bind(window,"touchend",(function(){H.removeClass(p.__selector,"drag")}))}));var f=document.createElement("div");return x.extend(d.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),x.extend(d.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:d.__field_knob_border+(d.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),x.extend(d.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),x.extend(d.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),x.extend(f.style,{width:"100%",height:"100%",background:"none"}),a(f,"top","rgba(0,0,0,0)","#000"),x.extend(d.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),function(e){e.style.background="",e.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",e.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",e.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}(d.__hue_field),x.extend(d.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:d.__input_textShadow+"rgba(0,0,0,0.7)"}),H.bind(d.__saturation_field,"mousedown",n),H.bind(d.__saturation_field,"touchstart",n),H.bind(d.__field_knob,"mousedown",n),H.bind(d.__field_knob,"touchstart",n),H.bind(d.__hue_field,"mousedown",o),H.bind(d.__hue_field,"touchstart",o),d.__saturation_field.appendChild(f),d.__selector.appendChild(d.__field_knob),d.__selector.appendChild(d.__saturation_field),d.__selector.appendChild(d.__hue_field),d.__hue_field.appendChild(d.__hue_knob),d.domElement.appendChild(d.__input),d.domElement.appendChild(d.__selector),d.updateDisplay(),d}return P(t,R),L(t,[{key:"updateDisplay",value:function(){var e=S(this.getValue());if(!1!==e){var t=!1;x.each(V.COMPONENTS,(function(i){if(!x.isUndefined(e[i])&&!x.isUndefined(this.__color.__state[i])&&e[i]!==this.__color.__state[i])return t=!0,{}}),this),t&&x.extend(this.__color.__state,e)}x.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var i=this.__color.v<.5||this.__color.s>.5?255:0,n=255-i;x.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+i+","+i+","+i+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,a(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),x.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+i+","+i+","+i+")",textShadow:this.__input_textShadow+"rgba("+n+","+n+","+n+",.7)"})}}]),t}(),W=["-moz-","-o-","-webkit-","-ms-",""],X=function(e,t){var i=t||document,n=document.createElement("style");n.type="text/css",n.innerHTML=e;var o=i.getElementsByTagName("head")[0];try{o.appendChild(n)}catch(e){}},K=function(e,t){var i=e[t];return x.isArray(arguments[2])||x.isObject(arguments[2])?new B(e,t,arguments[2]):x.isNumber(i)?x.isNumber(arguments[2])&&x.isNumber(arguments[3])?x.isNumber(arguments[4])?new U(e,t,arguments[2],arguments[3],arguments[4]):new U(e,t,arguments[2],arguments[3]):x.isNumber(arguments[4])?new D(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new D(e,t,{min:arguments[2],max:arguments[3]}):x.isString(i)?new F(e,t):x.isFunction(i)?new G(e,t,""):x.isBoolean(i)?new Y(e,t):null},Q=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},J=function(){function e(){M(this,e),this.backgroundElement=document.createElement("div"),x.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),H.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),x.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;H.bind(this.backgroundElement,"click",(function(){t.hide()}))}return L(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),x.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",H.unbind(e.domElement,"webkitTransitionEnd",t),H.unbind(e.domElement,"transitionend",t),H.unbind(e.domElement,"oTransitionEnd",t)};H.bind(this.domElement,"webkitTransitionEnd",t),H.bind(this.domElement,"transitionend",t),H.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-H.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-H.getHeight(this.domElement)/2+"px"}}]),e}(),$=function(e){if("undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");X($);var Z="Default",ee=function(){try{return!!window.localStorage}catch(e){return!1}}(),te=void 0,ie=!0,ne=void 0,oe=!1,se=[],re=function e(t){var i=this,n=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),H.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=x.defaults(n,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),n=x.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),x.isUndefined(n.load)?n.load={preset:Z}:n.preset&&(n.load.preset=n.preset),x.isUndefined(n.parent)&&n.hideable&&se.push(this),n.resizable=x.isUndefined(n.parent)&&n.resizable,n.autoPlace&&x.isUndefined(n.scrollable)&&(n.scrollable=!0);var o=ee&&"true"===localStorage.getItem(p(0,"isLocal")),s=void 0,r=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return i.parent?i.getRoot().preset:n.load.preset},set:function(e){i.parent?i.getRoot().preset=e:n.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),i.revert()}},width:{get:function(){return n.width},set:function(e){n.width=e,g(i,e)}},name:{get:function(){return n.name},set:function(e){n.name=e,r&&(r.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(t){n.closed=t,n.closed?H.addClass(i.__ul,e.CLASS_CLOSED):H.removeClass(i.__ul,e.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return o},set:function(e){ee&&(o=e,e?H.bind(window,"unload",s):H.unbind(window,"unload",s),localStorage.setItem(p(0,"isLocal"),e))}}}),x.isUndefined(n.parent)){if(this.closed=n.closed||!1,H.addClass(this.domElement,e.CLASS_MAIN),H.makeSelectable(this.domElement,!1),ee&&o){i.useLocalStorage=!0;var a=localStorage.getItem(p(0,"gui"));a&&(n.load=JSON.parse(a))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,H.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),n.closeOnTop?(H.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(H.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),H.bind(this.__closeButton,"click",(function(){i.closed=!i.closed}))}else{void 0===n.closed&&(n.closed=!0);var h=document.createTextNode(n.name);H.addClass(h,"controller-name"),r=l(i,h),H.addClass(this.__ul,e.CLASS_CLOSED),H.addClass(r,"title"),H.bind(r,"click",(function(e){return e.preventDefault(),i.closed=!i.closed,!1})),n.closed||(this.closed=!1)}n.autoPlace&&(x.isUndefined(n.parent)&&(ie&&(ne=document.createElement("div"),H.addClass(ne,"dg"),H.addClass(ne,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ne),ie=!1),ne.appendChild(this.domElement),H.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||g(i,n.width)),this.__resizeHandler=function(){i.onResizeDebounced()},H.bind(window,"resize",this.__resizeHandler),H.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),H.bind(this.__ul,"transitionend",this.__resizeHandler),H.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&function(e){function t(t){return t.preventDefault(),e.width+=o-t.clientX,e.onResize(),o=t.clientX,!1}function i(){H.removeClass(e.__closeButton,re.CLASS_DRAG),H.unbind(window,"mousemove",t),H.unbind(window,"mouseup",i)}function n(n){return n.preventDefault(),o=n.clientX,H.addClass(e.__closeButton,re.CLASS_DRAG),H.bind(window,"mousemove",t),H.bind(window,"mouseup",i),!1}var o=void 0;e.__resize_handle=document.createElement("div"),x.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),H.bind(e.__resize_handle,"mousedown",n),H.bind(e.__closeButton,"mousedown",n),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}(this),s=function(){ee&&"true"===localStorage.getItem(p(0,"isLocal"))&&localStorage.setItem(p(0,"gui"),JSON.stringify(i.getSaveObject()))},this.saveToLocalStorageIfPossible=s,n.parent||function(){var e=i.getRoot();e.width+=1,x.defer((function(){e.width-=1}))}()};re.toggleHide=function(){oe=!oe,x.each(se,(function(e){e.domElement.style.display=oe?"none":""}))},re.CLASS_AUTO_PLACE="a",re.CLASS_AUTO_PLACE_CONTAINER="ac",re.CLASS_MAIN="main",re.CLASS_CONTROLLER_ROW="cr",re.CLASS_TOO_TALL="taller-than-window",re.CLASS_CLOSED="closed",re.CLASS_CLOSE_BUTTON="close-button",re.CLASS_CLOSE_TOP="close-top",re.CLASS_CLOSE_BOTTOM="close-bottom",re.CLASS_DRAG="drag",re.DEFAULT_WIDTH=245,re.TEXT_CLOSED="Close Controls",re.TEXT_OPEN="Open Controls",re._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||re.toggleHide()},H.bind(window,"keydown",re._keydownHandler,!1),x.extend(re.prototype,{add:function(e,t){return d(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return d(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;x.defer((function(){t.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ne.removeChild(this.domElement);var e=this;x.each(this.__folders,(function(t){e.removeFolder(t)})),H.unbind(window,"keydown",re._keydownHandler,!1),h(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var i=new re(t);this.__folders[e]=i;var n=l(this,i.domElement);return H.addClass(n,"folder"),i},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],h(e);var t=this;x.each(e.__folders,(function(t){e.removeFolder(t)})),x.defer((function(){t.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=H.getOffset(e.__ul).top,i=0;x.each(e.__ul.childNodes,(function(t){e.autoPlace&&t===e.__save_row||(i+=H.getHeight(t))})),window.innerHeight-t-20<i?(H.addClass(e.domElement,re.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(H.removeClass(e.domElement,re.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&x.defer((function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"})),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:x.debounce((function(){this.onResize()}),50),remember:function(){if(x.isUndefined(te)&&((te=new J).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;x.each(Array.prototype.slice.call(arguments),(function(t){0===e.__rememberedObjects.length&&m(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&g(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=v(this)),e.folders={},x.each(this.__folders,(function(t,i){e.folders[i]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=v(this),c(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[Z]=v(this,!0)),this.load.remembered[e]=v(this),this.preset=e,f(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){x.each(this.__controllers,(function(t){this.getRoot().load.remembered?u(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),this),x.each(this.__folders,(function(e){e.revert(e)})),e||c(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&Q.call(window,(function(){e(t)})),x.each(t,(function(e){e.updateDisplay()}))}(this.__listening)},updateDisplay:function(){x.each(this.__controllers,(function(e){e.updateDisplay()})),x.each(this.__folders,(function(e){e.updateDisplay()}))}});var ae={Color:V,math:k,interpret:S},le={Controller:R,BooleanController:Y,OptionController:B,StringController:F,NumberController:N,NumberControllerBox:D,NumberControllerSlider:U,FunctionController:G,ColorController:q},he={dom:H},ce={GUI:re},ue=re,de={color:ae,controllers:le,dom:he,gui:ce,GUI:ue};e.color=ae,e.controllers=le,e.dom=he,e.gui=ce,e.GUI=ue,e.default=de,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,i){"use strict";t.decode=t.parse=i(7),t.encode=t.stringify=i(8)},function(e,t,i){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,s){t=t||"&",i=i||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(t);var l=1e3;s&&"number"==typeof s.maxKeys&&(l=s.maxKeys);var h=e.length;l>0&&h>l&&(h=l);for(var c=0;c<h;++c){var u,d,p,f,_=e[c].replace(a,"%20"),m=_.indexOf(i);m>=0?(u=_.substr(0,m),d=_.substr(m+1)):(u=_,d=""),p=decodeURIComponent(u),f=decodeURIComponent(d),n(r,p)?o(r[p])?r[p].push(f):r[p]=[r[p],f]:r[p]=f}return r};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,i){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,a){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?s(r(e),(function(r){var a=encodeURIComponent(n(r))+i;return o(e[r])?s(e[r],(function(e){return a+encodeURIComponent(n(e))})).join(t):a+encodeURIComponent(n(e[r]))})).join(t):a?encodeURIComponent(n(a))+i+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n));return i}var r=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},function(e,t,i){(function(e,n){var o;!function(s){t&&t.nodeType,e&&e.nodeType;var r="object"==typeof n&&n;r.global!==r&&r.window!==r&&r.self;var a,l=2147483647,h=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function _(e){throw new RangeError(d[e])}function m(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function g(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+m((e=e.replace(u,".")).split("."),t).join(".")}function v(e){for(var t,i,n=[],o=0,s=e.length;o<s;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<s?56320==(64512&(i=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),o--):n.push(t);return n}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function y(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,i){var n=0;for(e=i?p(e/700):e>>1,e+=p(e/t);e>455;n+=36)e=p(e/35);return p(n+36*e/(e+38))}function w(e){var t,i,n,o,s,r,a,h,c,u,d,f=[],m=e.length,g=0,v=128,y=72;for((i=e.lastIndexOf("-"))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&_("not-basic"),f.push(e.charCodeAt(n));for(o=i>0?i+1:0;o<m;){for(s=g,r=1,a=36;o>=m&&_("invalid-input"),((h=(d=e.charCodeAt(o++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||h>p((l-g)/r))&&_("overflow"),g+=h*r,!(h<(c=a<=y?1:a>=y+26?26:a-y));a+=36)r>p(l/(u=36-c))&&_("overflow"),r*=u;y=x(g-s,t=f.length+1,0==s),p(g/t)>l-v&&_("overflow"),v+=p(g/t),g%=t,f.splice(g++,0,v)}return b(f)}function C(e){var t,i,n,o,s,r,a,h,c,u,d,m,g,b,w,C=[];for(m=(e=v(e)).length,t=128,i=0,s=72,r=0;r<m;++r)(d=e[r])<128&&C.push(f(d));for(n=o=C.length,o&&C.push("-");n<m;){for(a=l,r=0;r<m;++r)(d=e[r])>=t&&d<a&&(a=d);for(a-t>p((l-i)/(g=n+1))&&_("overflow"),i+=(a-t)*g,t=a,r=0;r<m;++r)if((d=e[r])<t&&++i>l&&_("overflow"),d==t){for(h=i,c=36;!(h<(u=c<=s?1:c>=s+26?26:c-s));c+=36)w=h-u,b=36-u,C.push(f(y(u+w%b,0))),h=p(w/b);C.push(f(y(h,0))),s=x(i,g,n==o),i=0,++n}++i,++t}return C.join("")}a={version:"1.4.1",ucs2:{decode:v,encode:b},decode:w,encode:C,toASCII:function(e){return g(e,(function(e){return c.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return g(e,(function(e){return h.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return a}.call(t,i,t,e))||(e.exports=o)}()}).call(this,i(10)(e),i(11))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";i.r(t);var n=i(0);i(2);const o=Object.create(null);function s(e){return o[e]?o[e]:null}o.get=s,o.getClone=s,o.set=function(e,t){o[e]||(o[e]=t)};class r extends THREE.Scene{constructor(){super(),this.camera=new THREE.PerspectiveCamera(45,n.m.width/n.m.height,1,1e3),this.camera.position.z=1,n.g(this.camera)}onClickHoldProgress(){}onClickHold(){}update(){}mouseInteraction(e){}render(e){e.render(this,this.camera)}computeFovBounds(){this.fovHeight=2*Math.tan(this.camera.fov*Math.PI/180/2)*this.camera.position.z,this.fovWidth=this.fovHeight*this.camera.aspect,n.l(this.fovWidth,this.fovHeight)}resize(){n.k(n.b.clientWidth,n.b.clientHeight),this.camera.aspect=n.m.width/n.m.height,this.camera.updateProjectionMatrix(),this.computeFovBounds(),n.e.setSize(n.m.width,n.m.height,!1)}}var a=class{constructor(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0,this.max=30,this.damp=.75,this.springiness=.09,this.max=160,this.damp=.85,this.springiness=.29}update(){this.ax=(this.tx-this.x)*this.springiness,this.dx+=this.ax,this.dx*=this.damp,this.dx<-this.max?this.dx=-this.max:this.dx>this.max&&(this.dx=this.max),this.x+=this.dx,this.ay=(this.ty-this.y)*this.springiness,this.dy+=this.ay,this.dy*=this.damp,this.dy<-this.max?this.dy=-this.max:this.dy>this.max&&(this.dy=this.max),this.y+=this.dy}reset(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0}};const l=e=>{let t=e.clientX,i=e.clientY;return e.touches&&(t=e.touches[0].clientX,i=e.touches[0].clientY),{x:t,y:i}},h=function(e,t,i){return Math.min(Math.max(i,e),t)};var c=i(3);class u extends c.EventEmitter{constructor(e){super(),this.target=e,this._currentSlot=0,this._previouscurrentSlot=0,this._currentSlotLive=0,this.spring=new a,this.value=0,this.prevValue=0,this.didMoveValue=!1,this.easingValue=0,this.dragOffset=0,this.dragging=!1,this.speed=0,this.scale=.5,this.size=1024,this.maxSlots=1e9,this.minSlots=-1e5,this.capMovement=!0,this.prevPosition=0,this.valueY=0,this.easingValueY=0,this.dragOffsetY=0,this.speedY=0,this.speedY2=0,this.prevPositionY=0,this.didMove=!1,this.didMoveY=!1,this.scrollMin=-1/0,this.scrollMax=0,this.scrollMinY=-1/0,this.scrollMaxY=0,this.snapTo=!1,this.lastScroll=0,this._onDownBinded=this.onDown.bind(this),this._onUpBinded=this.onUp.bind(this),this._onMoveBinded=this.onMove.bind(this),this._onMouseWheelBinded=this.onMouseWheel.bind(this),this.target.addEventListener("mousedown",this._onDownBinded),this.target.addEventListener("touchstart",this._onDownBinded),this.target.addEventListener("mousewheel",this._onMouseWheelBinded),this.target.addEventListener("wheel",this._onMouseWheelBinded),this.target.addEventListener("keyup",this._onKeyDown.bind(this)),this.contextmenu=!1,window.oncontextmenu=()=>{this.contextmenu=!0}}_onKeyDown(e){switch(e.keyCode){case 37:this.keying=!0,this.previousSlot();break;case 39:this.keying=!0,this.nextSlot()}}unlock(){this.locked=!1}lock(){this.locked=!0,window.onmousewheel=null}update(){const e=window.OPTIMISE?2:1;this.contextmenu&&(this.contextmenu=!1,this.onUp());for(let t=0;t<e;t++){if(this.value+=.3*(this.easingValue-this.value),this.valueY+=.3*(this.easingValueY-this.valueY),this.dragging){let e=this.easingValue-this.prevPosition;e*=.7,this.speed+=.5*(e-this.speed),this.prevPosition=this.easingValue;let t=this.easingValueY-this.prevPositionY;t*=.7,this.speedY+=.5*(t-this.speedY),this.speedY2=.3*this.speedY,this.prevPositionY=this.easingValueY}else this.snapTo?(this.speedY2*=.1,this.speed=this.spring.dx,this.spring.update(),this.easingValue=this.spring.x,this.easingValueY=this.spring.y,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue+=.3*(this.scrollMax-this.easingValue):this.easingValue<this.scrollMin&&(this.easingValue+=.3*(this.scrollMin-this.easingValue)),this.easingValueY>this.scrollMaxY?this.easingValueY+=.3*(this.scrollMaxY-this.easingValueY):this.easingValueY<this.scrollMinY&&(this.easingValueY+=.3*(this.scrollMinY-this.easingValueY)))):(this.speed*=.95,this.easingValue+=this.speed,this.speedY*=.95,this.easingValueY+=this.speedY,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue+=.3*(this.scrollMax-this.easingValue):this.easingValue<this.scrollMin&&(this.easingValue+=.3*(this.scrollMin-this.easingValue)),this.easingValueY>this.scrollMaxY?this.easingValueY+=.3*(this.scrollMaxY-this.easingValueY):this.easingValueY<this.scrollMinY&&(this.easingValueY+=.3*(this.scrollMinY-this.easingValueY))));this.speedY*=.95,this._currentSlotLive!==this.currentSlotLive&&this.dragging&&(this.emit("currentSlotLive:change",this.currentSlotLive),this._currentSlotLive=this.currentSlotLive),this._currentSlot!==this.currentSlot&&(this.emit("currentSlot:change",this.currentSlot),this._previouscurrentSlot=this._currentSlot,this._currentSlot=this.currentSlot),Math.abs(this.prevValue-this.value)>50&&!this.didMoveValue&&(this.dragging||this.wheelling||this.keying)&&(this.didMoveValue=!0,this.emit("move")),Math.abs(this.prevValue-this.value)<.2&&this.didMoveValue&&!this.dragging&&(this.emit("stopMoving"),this.didMoveValue=!1,this.keying=!1,this.wheelling=!1),this.didMoveValue&&(this.prevValue=this.value)}}stop(){this.speed=0,this.speedY=0,this.value=this.prevPosition=this.easingValue,this.valueY=this.prevPositionY=this.easingValueY}setPosition(e,t){this.value=this.easingValue=this.spring.tx=this.spring.x=this.spring.dx=this.prevPosition=e}easeToPosition(e,t){this.easingValue=this.spring.tx=e,this.easingValueY=t}onDown(e){if(this.locked)return;this.speed=0,this.speedY=0,this.stop(),this.didMove=!1,this.didMoveY=!1;const t=l(e);this.checkX=t.x,this.checkY=t.y,this.dragging=!0,this.dragOffset=t.x-this.value,this.dragOffsetY=t.y-this.valueY,this.target.addEventListener("mouseleave",this._onUpBinded),this.target.addEventListener("touchend",this._onUpBinded),this.target.addEventListener("mouseup",this._onUpBinded),this.target.addEventListener("mousemove",this._onMoveBinded),this.target.addEventListener("touchmove",this._onMoveBinded)}onMouseWheel(e){if(this.locked)return;const t=e.wheelDeltaY||-e.deltaY;this.spring.tx+=.15*t,this.wheelling=!0,this.spring.tx=h(-this.size*this.maxSlots,0,this.spring.tx),this.speed=.15*t,clearTimeout(this.timer),this.last=this.spring.tx/this.size,this.timer=setTimeout(()=>{if(this.first=!0,this.wheelPos=0,this.spring.tx/this.size%1!=0){let e=Math.round(-this.spring.tx/this.size);e=h(this.minSlots,this.maxSlots,e),this.setSlot(e)}},50)}get slotY(){return Math.round(-this.spring.ty/this.size)}get currentSlot(){let e=Math.round(-this.spring.tx/this.size);return h(this.minSlots,this.maxSlots,e)}get currentSlotLive(){let e=Math.round(-this.easingValue/this.size);return h(this.minSlots,this.maxSlots,e)}onUp(){if(!this.locked){if(this.dragging=!1,this.snapTo){if(this.didMove){let e;this.spring.dx=this.speed,e=this.speed<0?Math.floor(this.easingValue/this.size):Math.ceil(this.easingValue/this.size),this.capMovement&&(e>0?e=0:e<-this.maxSlots&&(e=-this.maxSlots)),this.spring.tx=e*this.size,this.spring.dy=this.speedY,e=this.speedY<0?Math.floor(this.easingValueY/this.size):Math.ceil(this.easingValueY/this.size),this.capMovement&&(e>0?e=0:e<-this.maxSlots&&(e=-this.maxSlots)),this.spring.ty=e*this.size}this.spring.x=this.easingValue,this.spring.y=this.easingValueY}this.cap(),this.target.removeEventListener("touchend",this._onUpBinded),this.target.removeEventListener("mouseup",this._onUpBinded),this.target.removeEventListener("mousemove",this._onMoveBinded),this.target.removeEventListener("touchmove",this._onMoveBinded),this.didMove=!1}}cap(){this.capMovement&&(this.snapTo&&(this.spring.tx>this.scrollMax?this.spring.tx=this.scrollMax:this.spring.tx<this.scrollMin&&(this.spring.tx=this.scrollMin)),this.snapTo&&(this.spring.ty>this.scrollMaxY?this.spring.ty=this.scrollMaxY:this.spring.ty<this.scrollMinY&&(this.spring.ty=this.scrollMinY)))}setSlot(e,t){this.spring.tx=e*-this.size,t&&(this.value=this.easingValue=this.spring.x=this.spring.tx),this.cap()}setSlotY(e,t){const i=this.spring.y=e*-this.size;t?this.valueY=this.easingValueY=this.spring.ty=this.spring.y=this.prevPositionY=i:this.spring.ty=i,this.cap()}nextSlot(){this.spring.tx-=this.size,this.spring.tx<-this.maxSlots*this.size&&(this.spring.tx=-this.maxSlots*this.size),this.cap()}nextSlotY(){this.spring.ty-=this.size,this.spring.ty<-this.maxSlots*this.size&&(this.spring.ty=-this.maxSlots*this.size),this.cap()}previousSlot(){this.spring.tx+=this.size,this.cap()}previousSlotY(){this.spring.ty+=this.size,this.cap()}setSize(e){this.size=e,this.scrollbar&&this.scrollBar.setSize(e)}setSlots(e){this.maxSlots=e-1}onMove(e){if(this.locked)return;const t=l(e);let i;i=Math.abs(this.checkX-t.x),i>5&&(this.didMove,this.didMove=!0),i=Math.abs(this.checkY-t.y),i>10&&(this.didMoveY=!0),this.easingValue=t.x-this.dragOffset,this.easingValueY=t.y-this.dragOffsetY,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue=this.scrollMax+.3*(this.easingValue-this.scrollMax):this.easingValue<this.scrollMin&&(this.easingValue=this.scrollMin+.3*(this.easingValue-this.scrollMin)),this.easingValueY>this.scrollMaxY?this.easingValueY=this.scrollMaxY+.3*(this.easingValueY-this.scrollMaxY):this.easingValueY<this.scrollMinY&&(this.easingValueY=this.scrollMinY+.3*(this.easingValueY-this.scrollMinY)))}}var d=u;const p=new THREE.TextureLoader,f=Power2.easeOut,_=new THREE.PlaneGeometry(1,1);_.translate(0,.4,0);var m=class extends THREE.Object3D{constructor(e){super(),this.el=e,this.el.addEventListener("click",()=>{this.didMove||this.click()}),this.material=new THREE.ShaderMaterial({uniforms:{width:{value:.5,type:"f"},scaleX:{value:40,type:"f"},scaleY:{value:40,type:"f"},map:{value:null},progress:{value:0},direction:{value:1},uTime:{value:0}},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",fragmentShader:"#define GLSLIFY 1\nuniform sampler2D map;\nuniform float progress;\nuniform float direction;\nuniform float uTime;\nvarying vec2 vUv;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nfloat parabola( float x, float k ) {\n  return pow( 4. * x * ( 1. - x ), k );\n}\n\nvoid main()\t{\n  float progresss = 1.;\n  progresss = progress;\n  float dt = parabola(progresss,1.);\n\n  float realnoise = 0.5*(snoise(vec3(vUv*6.,1. + uTime))+1.);\n\n  // realnoise =(snoise3(vec3(vUv*10.,1.)));\n  float w = 0.4 * dt;\n\n  float offset = mix(1.0 - vUv.x, vUv.x,direction);\n  float maskvalue = smoothstep(1. - w,1.,offset + mix(-w/2., 1. - w/2., progresss));\n\n  float mask = maskvalue + (maskvalue*realnoise);\n  mask = realnoise + progresss;\n  float border = 1.;\n\n  float final = smoothstep(border,border+0.01,mask);\n  float alpha = mix(0.,1.,final);\n\n  vec4 c = texture2D(map,vUv);\n  gl_FragColor = vec4(c.xyz,alpha * c.a);\n  // gl_FragColor = vec4(vec3(mask),1.);\n  // gl_FragColor = vec4(1.);\n\n}\n",side:2,depthTest:!1,transparent:!0}),this.mesh=new THREE.Mesh(_,this.material),this.add(this.mesh),this.shown=!1,this.mesh.scale.set(1.2,1.2,1.2),this.elProps={scale:.7}}show(e){this.el.classList.contains("active")||(this.el.classList.add("active"),TweenLite.killTweensOf(this.elProps),TweenLite.killTweensOf(this.material.uniforms.progress),TweenLite.killTweensOf(this.mesh.scale),TweenLite.to(this.elProps,1.5,{scale:1,ease:f}),this.shown=!0,this.material.uniforms.direction.value=e,TweenLite.to(this.material.uniforms.progress,1.5,{value:1,ease:f}),TweenLite.to(this.mesh.scale,1.5,{x:1,y:1,z:1,ease:f}))}hide(e,t){this.el.classList.contains("active")&&(this.el.classList.remove("active"),TweenLite.killTweensOf(this.elProps),TweenLite.killTweensOf(this.material.uniforms.progress),TweenLite.killTweensOf(this.mesh.scale),TweenLite.to(this.elProps,.7,{scale:.7,ease:f}),this.material.uniforms.direction.value=e,this.shown=!1,TweenLite.to(this.material.uniforms.progress,.7,{value:0,ease:f}),TweenLite.to(this.mesh.scale,.7,{x:1.2,y:1.2,z:1.2,ease:f}))}setData(e){this.data=e;const t=n.n?e.texture.url.webp:e.texture.url.fallback;if(o.get(t))this.material.uniforms.map.value=o.get(t);else{const e=p.load(t);o.set(t,e),this.material.uniforms.map.value=o.get(t)}this.data=e;this.data.texture.height,this.data.texture.width}click(){this.data&&(document.location.href=this.data.url)}update(e){this.didMove=e,this.material.uniforms.uTime.value+=.007}};const g=2*Math.PI,v=2*Math.PI/5;class b extends r{constructor(e){super(),this.data=n.d.slides,this.camera.position.z=50,this.computeFovBounds(),this.parent2=new THREE.Object3D,this.group=new THREE.Object3D,this.group.position.y=-n.c.height/2,this.add(this.parent2),this.parent2.add(this.group),this.els=[];for(let e=0;e<5;e++){const t=document.createElement("div");t.style.position="absolute",t.className="i-number",document.body.appendChild(t),this.els.push(t);const i=new m(t),o=e/5*Math.PI*2+Math.PI/2;i.position.x=17*Math.cos(o),i.position.y=17*Math.sin(o),i.position.z=1,i.rotation.z=o-Math.PI/2,i.scale.x=.3*n.c.height,i.scale.y=.3*n.c.height,this.group.add(i)}this.trackpad=new d(window),this.trackpad.capMovement=!1,this.trackpad.snapTo=!0,this.trackpad.maxSlots=1/0,this.trackpad.size=v/.002,this.trackpad.spring.damp=.5,this.currentId=null,this.progress=0,this.tick=0,this.group.scale.set(1.3,1.3,1.3),this.parent2.position.y=-n.c.height,this.resize(),this.intro(),this.initialize=!1}intro(){this.pos=0,TweenLite.to(this.group.scale,2,{x:1,y:1,z:1,delay:1,ease:Power2.easeOut}),TweenLite.to(this.parent2.position,2,{y:0,delay:1,ease:Power2.easeOut}),TweenLite.to(this,2,{pos:5,onUpdate:()=>{this.trackpad.setSlot(this.pos,!0)},onComplete:()=>{this.initialize=!0},delay:1,ease:Power2.easeOut}),TweenLite.set(n.d.letterContainer,{opacity:0}),TweenLite.to(n.d.letterContainer,1,{opacity:1,delay:3,ease:Power2.easeOut})}update(e){this.tick+=.01,this.progress=Math.sin(this.tick),this.trackpad.update();const t=-.002*this.trackpad.value;this.group.rotation.z=t;for(let e=0;e<this.group.children.length;e++){const i=this.group.children[e];this.toScreenPosition(i,this.els[e]);let o=e*v+t;o+=2*Math.PI*1e7,o+=Math.PI;let s=o/g|0;s*=this.group.children.length,s-=e;const r=this.data.length,a=(e*v+t+Math.PI)%g/Math.PI*180;if(this.setPropertyOfel(i,this.els[e],a),i.update(this.trackpad.didMoveValue),i.idd!==s){i.idd=s,s%=r,s<0&&(s+=r);const t=this.data[s];i.setData(t);const o=i.data.texture.height/i.data.texture.width;i.scale.x=h(5,12,.3*n.c.height),i.scale.y=i.scale.x*o,this.els[e].innerHTML=t.number}const l=Math.sign(this.trackpad._previouscurrentSlot-this.trackpad._currentSlot)>0?0:1,c=135;Math.abs(a)>0+c&&Math.abs(a)<85+c?this.currentId!=s&&i.data&&this.initialize&&(this.initialize&&i.show(l),this.currentId=s,this.append(i)):this.initialize&&i.hide(l)}}append(e){const t=n.d.letterContainer;let i="";for(let t=0;t<e.data.name.length;t++){i+=`<div class="ab-wrap">\n            <div class="ab-side">\n            </div>\n            <div class="ab-face">\n              <div class="ab-letter">${e.data.name[t]}</div>\n            </div>\n          </div>`}t.innerHTML=i}setPropertyOfel(e,t,i){const{x:n,y:o}=this.toScreenPosition(e),s=h(-20,20,-i+Math.PI/Math.PI*180);TweenLite.set(t,{rotation:s,scaleX:e.elProps.scale,scaleY:e.elProps.scale,x:"-50%",y:"-100%",left:n,top:o})}toScreenPosition(e){const t=new THREE.Vector3;return this.parent2.updateMatrixWorld(!0),this.group.updateMatrixWorld(!0),e.updateMatrixWorld(!0),t.setFromMatrixPosition(e.matrixWorld),t.project(this.camera),t.x=(t.x+1)*n.m.width/2,t.y=-(t.y-1)*n.m.height/2,{x:t.x,y:t.y}}resize(){super.resize();const e=h(5,20,.3*n.c.width);this.group.position.y=-n.c.height/2-e/2/1.5,this.group.children.forEach((t,i)=>{const o=i/5*Math.PI*2+Math.PI/2;if(t.position.x=Math.cos(o)*e,t.position.y=Math.sin(o)*e,t.rotation.z=o-Math.PI/2,t.data){const e=t.data.texture.height/t.data.texture.width;t.scale.x=h(5,12,.3*n.c.height),t.scale.y=t.scale.x*e}})}}i.d(t,"default",(function(){return y}));class y{constructor(e){window.gl=this,this.options=e,e.backgroundColor=e.backgroundColor?e.backgroundColor:"#EADAC6",n.i(e),n.h(e.canvas),n.k(n.b.clientWidth,n.b.clientHeight),this.scene=new THREE.Scene,this.renderer=new THREE.WebGLRenderer({canvas:e.canvas,preserveDrawingBuffer:!0}),this.renderer.setPixelRatio(n.f),this.renderer.setSize(n.m.width,n.m.height,!1),this.renderer.setClearColor(new THREE.Color(e.backgroundColor),1),n.j(this.renderer)}start(){this.paused=!1,this._init(),this._events(),this._tick()}pause(){this.paused=!0}resume(){this.paused=!1}load(e){return new Promise(e=>{Promise.all([]).then(t=>{e(t)})})}loadImage(e,t){return new Promise(i=>{loader.load(t,t=>{o.set(e,t),i()})})}_init(){this.mouse=new THREE.Vector2,this.mouseEase=new THREE.Vector2,this.mouseMultipler=new THREE.Vector2(1,1),this.currentScene=null,this.products=new b(this.options),this.currentScene=this.products}_events(){}mouseInteraction(e){if("mousedown"===e.type&&(this.down=!0,this.startTime=Date.now()),"mouseup"===e.type&&(this.down=!1),"mousemove"===e.type&&this.mousemove(e),this.currentScene)if("click"===e.type){Math.abs(this.startTime-Date.now())/1e3<.5&&this.currentScene.mouseInteraction(e)}else this.currentScene.mouseInteraction(e)}mousemove(e){this.mouse.x=2*(e.clientX/n.m.width-.5),this.mouse.y=2*-(e.clientY/n.m.height-.5),this.mouse.x*=this.mouseMultipler.x,this.mouse.y*=this.mouseMultipler.y}_tick(){this.raf=window.requestAnimationFrame(this._tick.bind(this)),this.paused||(this.update(),this.render(),this.postRender())}update(){if(this.down){const e=Math.abs(this.startTime-Date.now());this.currentScene.onClickHoldProgress(e/1e3),e/1e3>1&&(this.down=!1,this.currentScene&&this.currentScene.onClickHold())}this.mouseEase.x+=.1*(this.mouse.x-this.mouseEase.x),this.mouseEase.y+=.1*(this.mouse.y-this.mouseEase.y),this.currentScene&&this.currentScene.update(this.mouseEase)}render(){this.renderer.clear(),this.currentScene&&this.currentScene.render(this.renderer)}postRender(){}resize(){this.currentScene&&this.currentScene.resize()}}},function(e,t,i){"use strict";i.r(t);var n=i(2),o=i(1),s=i(0),r=i(3);var a={controls:!1,skipClickHold:!1,bgColor:"#eddfcc",cardColor:"#f5efe7",cardHoverColor:"#f2083f"};n.a.init(a,["localhost","clients.jojo.ninja"]);class l extends r.EventEmitter{start(e){return new Promise(t=>{window.webglApi=this;let n=i(12);n.default&&(n=n.default),this.webgl=new n(e),o.a.on(s.a,(e,t)=>{this.emit(e,t)}),this.events(),this.webgl.start()})}events(){window.addEventListener("resize",e=>{this.webgl.resize(e)}),window.addEventListener("click",e=>{this.webgl.mouseInteraction(e)}),window.addEventListener("mousedown",e=>{this.webgl.mouseInteraction(e)}),window.addEventListener("mousemove",e=>{this.webgl.mouseInteraction(e)}),window.addEventListener("mouseup",e=>{this.webgl.mouseInteraction(e)}),window.addEventListener("touchstart",e=>{this.webgl.mouseInteraction(e)}),window.addEventListener("touchmove",e=>{this.webgl.mouseInteraction(e)}),window.addEventListener("touchend",e=>{this.webgl.mouseInteraction(e)})}pause(){this.webgl.pause()}resume(){this.webgl.resume()}load(e){return new Promise(t=>{this.webgl.load(e).then(()=>{t()})})}}var h=new l;window.WannabeCategory=h}]);
